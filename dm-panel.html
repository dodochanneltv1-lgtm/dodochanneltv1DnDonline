<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="Javascript/BG.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
    <style>
      #dice-result, #dmDiceResult { font-size: 24px; text-align: center; color: #ffeb8a; text-shadow: 0 0 8px #ff4500; margin-top: 15px; }
      #dm-dice-animation-area { display: flex; justify-content: center; align-items: center; height: 80px; margin: 10px 0; }
      #dm-dice-animation-area > div { width: 60px; height: 60px; }
      .item-bonus-grid { display: grid; grid-template-columns: auto 1fr; gap: 5px 10px; align-items: center; }
      .hidden { display: none; }
      #turnOrderDisplay li.current-turn { background-color: #ffc107; color: black; font-weight: bold; }
      #current-turn-action-panel { border: 2px solid #ffc107; box-shadow: 0 0 15px #ffc107; }
    </style>
</head>
<body>

  <h1 style="text-align:center;">DM Panel</h1>

  <div class="grid-container">

    <div class="panel">
      <a href="lobby.html" style="grid-column: 1 / -1; text-align: center; margin-bottom: 20px;"><button>‡∏Å‡∏•‡∏±‡∏ö‡∏•‡πá‡∏≠‡∏ö‡∏ö‡∏µ‡πâ</button></a>
      <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</h2>
      <select id="playerSelect"></select>
      <div id="playerEditor">
          <div id="basicInfoSection" style="margin-top: 15px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; background-color: #f0f0f04f;">
              <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</h3>
              <label>‡∏ä‡∏∑‡πà‡∏≠:</label><input type="text" id="editName" readonly>
              <label>‡πÄ‡∏û‡∏®:</label>
              <select id="editGender"> <option value="‡∏ä‡∏≤‡∏¢">‡∏ä‡∏≤‡∏¢</option> <option value="‡∏´‡∏ç‡∏¥‡∏á">‡∏´‡∏ç‡∏¥‡∏á</option> <option value="‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏">‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏</option> </select>
              <label>‡∏≠‡∏≤‡∏¢‡∏∏:</label><input type="number" id="editAge" min="1">
              <label>‡πÄ‡∏ú‡πà‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå:</label>
              <select id="editRace"> <option value="‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå">‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå</option><option value="‡πÄ‡∏≠‡∏•‡∏ü‡πå">‡πÄ‡∏≠‡∏•‡∏ü‡πå</option><option value="‡∏Ñ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞">‡∏Ñ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞</option><option value="‡∏Æ‡∏≤‡∏•‡πå‡∏ü‡∏•‡∏¥‡πà‡∏á">‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå</option><option value="‡πÑ‡∏ó‡∏ü‡∏•‡∏¥‡πà‡∏á">‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå‡∏™‡∏±‡∏ï‡∏ß‡πå</option><option value="‡πÅ‡∏ß‡∏°‡πÑ‡∏û‡∏£‡πå">‡πÅ‡∏ß‡∏°‡πÑ‡∏û‡∏£‡πå</option><option value="‡πÄ‡∏á‡∏∑‡∏≠‡∏Å">‡πÄ‡∏á‡∏∑‡∏≠‡∏Å</option><option value="‡∏≠‡∏≠‡∏£‡πå‡∏Ñ">‡∏≠‡∏≠‡∏£‡πå‡∏Ñ</option><option value="‡πÇ‡∏ô‡∏°">‡πÇ‡∏ô‡∏°</option><option value="‡πÄ‡∏≠‡∏•‡∏ü‡πå‡∏î‡∏≥">‡∏î‡∏≤‡∏£‡πå‡∏Ñ‡πÄ‡∏≠‡∏•‡∏ü‡πå</option><option value="‡∏ô‡∏≤‡∏á‡∏ü‡πâ‡∏≤">‡∏ô‡∏≤‡∏á‡∏ü‡πâ‡∏≤</option><option value="‡∏°‡∏≤‡∏£">‡∏°‡∏≤‡∏£</option><option value="‡πÇ‡∏Å‡πÄ‡∏•‡∏°">‡πÇ‡∏Å‡πÄ‡∏•‡∏°</option><option value="‡∏≠‡∏±‡∏ô‡πÄ‡∏î‡∏î">‡∏≠‡∏±‡∏ô‡πÄ‡∏î‡∏î</option><option value="‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£">‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏°‡∏±‡∏á‡∏Å‡∏£</option><option value="‡∏°‡∏±‡∏á‡∏Å‡∏£">‡∏°‡∏±‡∏á‡∏Å‡∏£</option><option value="‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏ó‡∏û">‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡πÄ‡∏ó‡∏û</option><option value="‡∏û‡∏£‡∏∞‡πÄ‡∏à‡πâ‡∏≤">‡∏û‡∏£‡∏∞‡πÄ‡∏à‡πâ‡∏≤</option> </select>
              <label>‡∏≠‡∏≤‡∏ä‡∏µ‡∏û:</label>
              <select id="editClass"> <option value="‡∏ô‡∏±‡∏Å‡∏£‡∏ö">‡∏ô‡∏±‡∏Å‡∏£‡∏ö</option><option value="‡∏ô‡∏±‡∏Å‡πÄ‡∏ß‡∏ó">‡∏ô‡∏±‡∏Å‡πÄ‡∏ß‡∏ó</option><option value="‡∏ô‡∏±‡∏Å‡∏ö‡∏ß‡∏ä">‡∏ô‡∏±‡∏Å‡∏ö‡∏ß‡∏ä</option><option value="‡πÇ‡∏à‡∏£">‡πÇ‡∏à‡∏£</option><option value="‡πÄ‡∏£‡∏ô‡πÄ‡∏à‡∏≠‡∏£‡πå">‡πÄ‡∏£‡∏ô‡πÄ‡∏à‡∏≠‡∏£‡πå</option><option value="‡∏≠‡∏±‡∏®‡∏ß‡∏¥‡∏ô‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå">‡∏≠‡∏±‡∏®‡∏ß‡∏¥‡∏ô‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</option><option value="‡∏ö‡∏≤‡∏£‡πå‡∏ö‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô">‡∏ö‡∏≤‡∏£‡πå‡∏ö‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option><option value="‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤">‡∏û‡πà‡∏≠‡∏Ñ‡πâ‡∏≤</option><option value="‡πÅ‡∏ó‡∏á‡∏Ñ‡πå">‡πÅ‡∏ó‡∏á‡∏Ñ‡πå</option><option value="‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏≤‡∏ä‡∏ç‡πå">‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏≤‡∏ä‡∏ç‡πå</option><option value="‡∏≠‡∏±‡∏®‡∏ß‡∏¥‡∏ô">‡∏≠‡∏±‡∏®‡∏ß‡∏¥‡∏ô</option><option value="‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡∏≠‡∏á">‡πÄ‡∏à‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡∏≠‡∏á</option><option value="‡∏ô‡∏±‡∏Å‡∏î‡∏≤‡∏ö‡πÄ‡∏ß‡∏ó‡∏¢‡πå">‡∏ô‡∏±‡∏Å‡∏î‡∏≤‡∏ö‡πÄ‡∏ß‡∏ó‡∏¢‡πå</option><option value="‡∏ô‡∏±‡∏Å‡∏ö‡∏∏‡∏ç‡∏´‡∏ç‡∏¥‡∏á">‡∏ô‡∏±‡∏Å‡∏ö‡∏∏‡∏ç‡∏´‡∏ç‡∏¥‡∏á</option><option value="‡∏ô‡∏±‡∏Å‡∏Ü‡πà‡∏≤">‡∏ô‡∏±‡∏Å‡∏Ü‡πà‡∏≤</option><option value="‡∏™‡∏ï‡∏£‡∏µ‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå">‡∏™‡∏ï‡∏£‡∏µ‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</option><option value="‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πâ‡∏≤">‡∏ú‡∏π‡πâ‡∏Å‡∏•‡πâ‡∏≤</option><option value="‡∏à‡∏≠‡∏°‡∏°‡∏≤‡∏£">‡∏à‡∏≠‡∏°‡∏°‡∏≤‡∏£</option><option value="‡πÄ‡∏ó‡∏û‡πÄ‡∏à‡πâ‡∏≤">‡πÄ‡∏ó‡∏û‡πÄ‡∏à‡πâ‡∏≤</option> </select>
              <label>‡∏†‡∏π‡∏°‡∏¥‡∏´‡∏•‡∏±‡∏á:</label><input type="text" id="editBackground"> <hr>
              <label>‡∏û‡∏•‡∏±‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï (HP):</label><input type="number" id="editHp">
              <button onclick="saveBasicInfo()" style="margin-top: 10px; width: 100%; background-color: #007bff;">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</button>
          </div>
          <button onclick="deletePlayer()" style="background-color:#cc0000; color:white; margin-top:20px; width: 100%;">üóëÔ∏è ‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</button>
      </div>
    </div>

    <div id="playerSummaryPanel" class="panel">
        <h3>‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h3>
        <p>‡πÇ‡∏õ‡∏£‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
    </div>

    <div class="panel">
      <h2>‚öôÔ∏è ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</h2>
      <p> <strong>‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</strong> <span id="editLevel">1</span> | <strong>‡πÅ‡∏ï‡πâ‡∏°‡∏≠‡∏¥‡∏™‡∏£‡∏∞:</strong> <span id="editFreeStatPoints">0</span> </p>
      <button onclick="changeLevel(1)">‚¨ÜÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏° 1 ‡πÄ‡∏•‡πÄ‡∏ß‡∏•</button>
      <button onclick="changeLevel(-1)" style="background-color: #dc3545;">‚¨áÔ∏è ‡∏•‡∏î 1 ‡πÄ‡∏•‡πÄ‡∏ß‡∏•</button>
      <h4>üåÄ ‡∏ö‡∏±‡∏ü/‡∏î‡∏µ‡∏ö‡∏±‡∏ü‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß (Temp Level)</h4>
      <label for="tempLevelInput">‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß:</label> <input type="number" id="tempLevelInput" value="0">
      <button onclick="applyTempLevel()" style="background-color: #007bff;">‚ú® ‡πÉ‡∏ä‡πâ‡∏ö‡∏±‡∏ü/‡∏î‡∏µ‡∏ö‡∏±‡∏ü</button>
      <button onclick="clearTempLevel()" style="background-color: #cc0000;">üóëÔ∏è ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
      <div id="statSection" style="margin-top: 20px;">
          <h3>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Stats)</h3>
          <p>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡πà‡∏≠‡∏á "‡∏ö‡∏±‡∏ü/‡∏î‡∏µ‡∏ö‡∏±‡∏ü"</p>
          <table id="statTable" style="width: 100%; text-align: center;">
              <thead> <tr> <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th> <th>‡πÄ‡∏ú‡πà‡∏≤</th> <th>‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</th> <th>‡∏û‡πâ‡∏≠‡∏¢‡∏ó‡πå</th> <th>‡∏ö‡∏±‡∏ü/‡∏î‡∏µ‡∏ö‡∏±‡∏ü</th> <th>‡∏£‡∏ß‡∏°</th> </tr> </thead>
              <tbody>
                  <tr> <td>STR</td> <td><input type="number" id="editSTRRace" readonly></td> <td><input type="number" id="editSTRClass" readonly></td> <td><input type="number" id="editSTRInvested" readonly></td> <td><input type="number" id="editSTRTemp" oninput="updateStatTotals('STR')"></td> <td><input type="number" id="editSTRTotal" readonly></td> </tr>
                  <tr> <td>DEX</td> <td><input type="number" id="editDEXRace" readonly></td> <td><input type="number" id="editDEXClass" readonly></td> <td><input type="number" id="editDEXInvested" readonly></td> <td><input type="number" id="editDEXTemp" oninput="updateStatTotals('DEX')"></td> <td><input type="number" id="editDEXTotal" readonly></td> </tr>
                  <tr> <td>CON</td> <td><input type="number" id="editCONRace" readonly></td> <td><input type="number" id="editCONClass" readonly></td> <td><input type="number" id="editCONInvested" readonly></td> <td><input type="number" id="editCONTemp" oninput="updateStatTotals('CON')"></td> <td><input type="number" id="editCONTotal" readonly></td> </tr>
                  <tr> <td>INT</td> <td><input type="number" id="editINTRace" readonly></td> <td><input type="number" id="editINTClass" readonly></td> <td><input type="number" id="editINTInvested" readonly></td> <td><input type="number" id="editINTTemp" oninput="updateStatTotals('INT')"></td> <td><input type="number" id="editINTTotal" readonly></td> </tr>
                  <tr> <td>WIS</td> <td><input type="number" id="editWISRace" readonly></td> <td><input type="number" id="editWISClass" readonly></td> <td><input type="number" id="editWISInvested" readonly></td> <td><input type="number" id="editWISTemp" oninput="updateStatTotals('WIS')"></td> <td><input type="number" id="editWISTotal" readonly></td> </tr>
                  <tr> <td>CHA</td> <td><input type="number" id="editCHARace" readonly></td> <td><input type="number" id="editCHAClass" readonly></td> <td><input type="number" id="editCHAInvested" readonly></td> <td><input type="number" id="editCHATemp" oninput="updateStatTotals('CHA')"></td> <td><input type="number" id="editCHATotal" readonly></td> </tr>
              </tbody>
          </table>
          <button onclick="saveStats()" style="margin-top: 10px; width: 100%; background-color: #28a745;">‚ú® ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡∏ö‡∏±‡∏ü/‡∏î‡∏µ‡∏ö‡∏±‡∏ü)</button>
      </div>
    </div>
    
    <div class="panel">
        <h2>‚öîÔ∏è ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ ‚öîÔ∏è</h2>
        <div id="combat-inactive-view">
            <button onclick="startCombat()" style="background-color: #28a745;">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô)</button>
        </div>
        <div id="combat-active-view" class="hidden">
            <h4>‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏° DEX):</h4>
            <ol id="turnOrderDisplay"></ol>
            <button onclick="advanceTurn()">‚û°Ô∏è ‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
            <button onclick="endCombat()" style="background-color: #dc3545; margin-top: 10px;">‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ</button>
        </div>
        <div id="current-turn-action-panel" class="panel hidden" >
        <h2 id="current-turn-unit-name">‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏Ç‡∏≠‡∏á...</h2>
        <div id="player-turn-view" class="hidden">
            <p>‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô... ‡∏£‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ</p>
            <button onclick="forceAdvanceTurn()">‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô (Force Skip)</button>
        </div>
        <div id="enemy-turn-view" class="hidden">
            <h4>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏Ç‡∏≠‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π:</h4>
            <label for="enemy-attack-target-select">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÇ‡∏à‡∏°‡∏ï‡∏µ:</label>
            <select id="enemy-attack-target-select"></select>
            <button id="enemy-attack-button" onclick="dmPerformEnemyAttack()" style="background-color: #c82333;">‡πÇ‡∏à‡∏°‡∏ï‡∏µ!</button>
            <div id="dm-roll-result-display" style="margin-top: 10px;"></div>
        </div>
    </div>
    </div>

    <div class="panel">
      <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á (Room Controls)</h2>
      <button onclick="changeRoomPassword()" style="background-color: #5bc0de;">üîë ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á</button>
      <button onclick="changeDMPassword()" style="background-color: #f0ad4e;">üîí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™ DM Panel</button>
      <hr>
      <button onclick="deleteRoom()" style="background-color: #dc3545; color: white;">üí£ ‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏ñ‡∏≤‡∏ß‡∏£</button>
    </div>

    <div class="panel">
      <h2>‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h2>
      <textarea id="story" rows="5" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô..."></textarea>
      <button onclick="saveStory()">üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</button>
    </div>

    <div class="panel">
      <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏ö ‡πÑ‡∏≠‡πÄ‡∏ó‡∏° (‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</h2>
      <input type="text" id="itemName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°">
      <input type="number" id="itemQty" value="1" min="1" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
      <button onclick="addItem()">üéí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</button>
      <hr>
      <h3>‡∏•‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</h3>
      <select id="itemSelect"></select>
      <input type="number" id="removeQty" value="1" min="1">
      <button onclick="removeItem()">üóëÔ∏è ‡∏•‡∏ö‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</button>
    </div>
    
    <div class="panel">
      <h2>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÇ‡∏ö‡∏ô‡∏±‡∏™)</h2>
      <input type="text" id="customItemName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°">
      <input type="number" id="customItemQty" value="1" min="1">
      <hr>
      <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏≠‡πÄ‡∏ó‡∏°:</label>
      <select id="customItemType" onchange="toggleItemFields()">
          <option value="‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
          <option value="‡∏™‡∏ß‡∏°‡πÉ‡∏™‡πà">‡∏™‡∏ß‡∏°‡πÉ‡∏™‡πà</option>
          <option value="‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò">‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò</option>
      </select>

      <div id="equipmentFields" class="hidden">
          <label>‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏ß‡∏°‡πÉ‡∏™‡πà:</label>
          <select id="customItemSlot">
              <option value="head">‡∏´‡∏±‡∏ß</option>
              <option value="chest">‡∏•‡∏≥‡∏ï‡∏±‡∏ß</option>
              <option value="legs">‡∏Ç‡∏≤</option>
              <option value="feet">‡πÄ‡∏ó‡πâ‡∏≤</option>
          </select>
      </div>

      <div id="weaponFields" class="hidden">
          <label>‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏ß‡∏°‡πÉ‡∏™‡πà:</label>
          <select id="customWeaponSlot">
            <option value="mainHand">‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏´‡∏•‡∏±‡∏Å</option>
            <option value="offHand">‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏£‡∏≠‡∏á</option>
          </select>
          <label>‡∏ä‡∏ô‡∏¥‡∏î‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò:</label>
          <input type="text" id="customWeaponType" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏î‡∏≤‡∏ö‡∏°‡∏∑‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß, ‡πÇ‡∏•‡πà, ‡∏Ñ‡∏ó‡∏≤">
          <label>‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢:</label>
          <input type="text" id="customDamageDice" placeholder="‡πÄ‡∏ä‡πà‡∏ô d8, d12">
      </div>
      
      <h4>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÇ‡∏ö‡∏ô‡∏±‡∏™ (‡πÉ‡∏™‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)</h4>
      <div class="item-bonus-grid">
        <label>HP:</label> <input type="number" id="itemBonusHP" placeholder="+HP">
        <label>STR:</label> <input type="number" id="itemBonusSTR" placeholder="+STR">
        <label>DEX:</label> <input type="number" id="itemBonusDEX" placeholder="+DEX">
        <label>CON:</label> <input type="number" id="itemBonusCON" placeholder="+CON">
        <label>INT:</label> <input type="number" id="itemBonusINT" placeholder="+INT">
        <label>WIS:</label> <input type="number" id="itemBonusWIS" placeholder="+WIS">
        <label>CHA:</label> <input type="number" id="itemBonusCHA" placeholder="+CHA">
      </div>
      <button onclick="sendCustomItem()" style="background-color: #ffc107; color: black; margin-top: 15px;">üéÅ ‡∏™‡πà‡∏á‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©</button>
    </div>

    <div class="panel">
        <h2>üëπ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏â‡∏≤‡∏Å</h2>
        <div id="enemyListContainer" style="max-height: 300px; overflow-y: auto;">
            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡πÉ‡∏ô‡∏â‡∏≤‡∏Å‡∏ô‡∏µ‡πâ</p>
        </div>
        <button onclick="clearAllEnemies()" style="background-color:#c82333; margin-top: 10px;">üî• ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î üî•</button>
    </div>

    <div class="panel">
      <h2>‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÄ‡∏û‡∏¥‡πà‡∏° ‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ</h2>
      <label>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</label>
      <select id="enemyInitialTarget">
          <option value="shared">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏£‡πà‡∏ß‡∏°)</option>
          </select>
      <hr>
      <h4>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ</h4>
      <select id="monsterTemplateSelect" onchange="loadMonsterTemplate()"></select>
      <label>HP:</label><input type="number" id="monsterHp">
      <label>STR:</label><input type="number" id="monsterStr">
      <label>DEX:</label><input type="number" id="monsterDex">
      <label>CON:</label><input type="number" id="monsterCon"> <label>INT:</label><input type="number" id="monsterInt"> <label>WIS:</label><input type="number" id="monsterWis"> <label>CHA:</label><input type="number" id="monsterCha"> <label>‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢:</label><input type="text" id="monsterDamageDice" placeholder="‡πÄ‡∏ä‡πà‡∏ô d6"> <button onclick="addMonster(false)">üßü‚Äç‚ôÇÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏° 1 ‡∏ï‡∏±‡∏ß</button>
      <button onclick="addMonster(true)" style="background-color: #fd7e14;">üßü‚Äç‚ôÇÔ∏èüßü‚Äç‚ôÇÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</button>
      <hr>
      <h4>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡πÄ‡∏≠‡∏á</h4>
      <input type="text" id="customEnemyName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ">
      <label>HP:</label><input type="number" id="customEnemyHp">
      <label>STR:</label><input type="number" id="customEnemyStr">
      <label>DEX:</label><input type="number" id="customEnemyDex">
      <label>CON:</label><input type="number" id="customEnemyCon"> <label>INT:</label><input type="number" id="customEnemyInt"> <label>WIS:</label><input type="number" id="customEnemyWis"> <label>CHA:</label><input type="number" id="customEnemyCha"> <label>‡∏•‡∏π‡∏Å‡πÄ‡∏ï‡πã‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢:</label><input type="text" id="customEnemyDamageDice" placeholder="‡πÄ‡∏ä‡πà‡∏ô d6"> <button onclick="addCustomEnemy()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏π‡πà‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏≠‡∏á</button>
    </div>
    <div class="panel">
      <h2>‡∏™‡πà‡∏á‡πÄ‡∏Ñ‡∏ß‡∏™</h2>
      <input type="text" id="questTitle" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™">
      <textarea id="questDetail" rows="3" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏Ñ‡∏ß‡∏™"></textarea>
      <input type="text" id="questReward" placeholder="‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•">
      <button onclick="sendQuest()">üìú ‡∏™‡πà‡∏á‡πÄ‡∏Ñ‡∏ß‡∏™</button>
      <hr>
      <button onclick="completeQuest()" style="background-color: #28a745;">üèÜ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏Ñ‡∏ß‡∏™‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</button>
      <button onclick="cancelQuest()" style="background-color: #ffc107; color: black;">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏Ñ‡∏ß‡∏™</button>
    </div>

    <div class="panel">
      <h2>DM ‡∏ó‡∏≠‡∏¢‡πÄ‡∏ï‡πã‡∏≤</h2>
      <label for="dmDiceType">‡∏ä‡∏ô‡∏¥‡∏î‡πÄ‡∏ï‡πã‡∏≤:</label>
      <select id="dmDiceType">
        <option value="4">d4</option> <option value="6">d6</option> <option value="8">d8</option> <option value="10">d10</option> <option value="12">d12</option> <option value="20" selected>d20</option> <option value="100">d100</option>
      </select>
      <label for="dmDiceCount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏π‡∏Å:</label>
      <input type="number" id="dmDiceCount" value="1" min="1" max="10">
      <button onclick="rollDmDice()">üé≤ DM ‡∏ó‡∏≠‡∏¢!</button>
      <div id="dm-dice-animation-area"></div>
      <div id="dmDiceResult"></div>
    </div>

    <div class="panel">
        <h2>üìú ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</h2>
        <ul id="playerCombatLog" style="max-height: 200px; overflow-y: auto; background: #222; padding: 5px;">
            <li>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ</li>
        </ul>
        <button onclick="clearCombatLogs()" style="background-color:#cc0000; color:white;">üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
    </div>

    <div class="panel">
      <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô (‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</h2>
      <ul id="playerDiceLog"> <li>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≠‡∏¢</li> </ul>
      <button onclick="clearDiceLogs()" style="background-color:#cc0000; color:white;">üßπ ‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≠‡∏¢</button>
    </div>

  </div>
    
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script src="Javascript/firebase-init.js"></script>
  <script src="Javascript/dice-roller.js"></script>
  <script src="Javascript/dm-panel-script.js"></script>
</body>
</html>
